
### Content

---

## 매일 메일 질문 답변하기

> 💡 ****데이터베이스 시스템에서 동시성을 제어하는 방법에 대해 설명해주세요.****

대표적으로 MVCC와 Lock-Based Concurrency Control이 있다.

### MVCC

데이터의 여러 버전을 유지하여 트랜잭션이 동시에 데이터를 읽고 쓸 수 있도록 하는 방식

> [gray]*각 트랜잭션은 자신만의 일관된 스냅샷을 기반으로 데이터를 읽어, 다른 트랜잭션에 영향을 받지 않는다.*[/]


동작 과정

- **트랜잭션이 시작하면 DB는 접근 시점의 데이터 버전(스냅샷)을 확인한다.**
  - 이 때 다른 트랜잭션이 데이터를 수정 중이어도 내 시점을 기준으로만 본다.


- **트랜잭션은 자신의 시작 지점보다 과거에 커밋된 버전만 읽는다.**
  - 다른 트랜잭션이 이후에 만든 버전은 읽지 못한다.


- **수정 시에는 기존 데이터를 직접 수정하지 않고, 새로운 버전을 만들어서 저장한다.**
  - 이전 버전은 숨기거나 삭제 표시만 하고 유지한다.


- **커밋 시 새 버전이 공식 데이터가 된다.**
  - 이후 트랜잭션은 새 버전을 읽게 된다.



MVCC는 읽기 작업과 쓰기 작업을 분리하고, 쓰기끼리는 충돌을 탐지해서 실패하도록 막는다. 충돌(직렬화 에러) 발생 시, 에러를 발생 시키므로 무결성을 유지한다.


<details><summary>MVCC 팬텀 리드 현상?</summary>

팬텀 리드 현상이란 같은 조건으로 `SELECT`를 반복했는데, 새로운 행이 나타나는 현상이다.


> MVCC는 트랜잭션마다 읽기 전용 스냅샷을 제공하여, 읽기 작업은 잠금 없이 일관된 데이터를 볼 수 있게 한다. 하지만 수정이 필요한 경우에는 기존 데이터를 복사하여 새로운 버전을 생성한다.

이때 범위 조건이 포함된 쿼리에서는, `INSERT`에 의해 "새로운 행이 생기는 것"(팬텀 리드)이 발생할 수 있다.

→ 이를 방지하기 위해 InnoDB는 MVCC 외에도 Gap Lock과 Next-Key Lock을 사용하여 해당 범위 내의 삽입과 수정을 제어한다.


</details>


### Lock-Based Concurrency Control

트랜잭션이 데이터를 읽거나 수정할 때 해당 데이터에 잠금을 걸어 다른 트랜잭션의 접근을 직접적으로 제어하는 방식

> [gray]*읽기 작업은 공유 락(S), 쓰기 작업은 배타 락 (X)을 사용하여 동시성을 제어한다.*[/]


동작 과정

- **트랜잭션 A가 데이터를 점유하여 쓰기 작업을 진행할 경우, 배타 락을 데이터에 걸게된다.**
  - 읽기 작업 같은 경우 공유 락을 걸지만, 다른 트랜잭션도 문제 없이 접근 가능하다.


- **트랜잭션 B가 동일 데이터에 읽기 작업을 수행하기 위해서는 트랜잭션 A가 커밋 후 사용할 수 있다.**
  - 배타 락이 해제될 때 까지 대기



LBCC는 락을 사용하여 동시성을 제어하지만, 접근 수로 인한 성능 저하와 데드락 문제를 고려해야 한다.

[gray]*데드락 : 서로가 서로의 락을 기다리며 무한 대기하는 상황*[/]


> 💡 **웹 접근성의 개념과 개선 방법에 대해 설명해주세요.**

웹 접근성은 장애인과 고령자 등 신체적 제약이 있는 사용자를 포함해, 모든 사용자가 웹 페이지를 동등하게 이용할 수 있도록 보장하는 개념이다.
→ **모든 사용자**가 제약 없이 웹을 사용할 수 있도록 하는 것이 목적이다.


**개선 방법**

- **단순하고 명확한 HTML 구조와 시맨틱 태그**
  - 스크린 리더가 콘텐츠를 쉽게 이해하도록 도와준다.


- **ARIA 속성을 활용**
  - 스크린 리더가 동적 컨텐츠나 복잡한 UI를 올바르게 인식하도록 만들어준다.


- **키보드로도 페이지를 탐색할 수 있도록 포커스를 명확히 지정**



### **TIL**

---


> 💡 **TIL 작성**

