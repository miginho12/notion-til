
### Content

---

## 매일 메일 질문 답변하기

> 💡 ****시스템 간 비동기 연동 방식에는 무엇이 있나요?****

메시지 시스템 활용, 데이터베이스 활용, CDC 활용 방식에 대해서 기술한다.


### 메시징 시스템 활용 방식

두 시스템 사이에 메시징 시스템을 사용하여 비동기로 연동하는 방식


1. **한 시스템에서 메시지를 생성해서 메시징 시스템에 송신**

1. **다른 시스템에서 메시징 시스템으로부터 메시지를 읽어와 메시지를 처리**

[gray]*Kafka, RabbitMQ가 주로 메시징 시스템으로 활용됨*[/]


**특징**

처리량이 높으나, 메시지 유실이나 메시지 소비 순서, 트랜잭션에 대한 고민이 추가적으로 필요함


### 데이터베이스 활용 방식

데이터베이스를 메시징 시스템처럼 사용하는 방식


1. **한 시스템에서 데이터베이스 테이블에 필요한 메시지 레코드를 추가하고 연동 시스템이 테이블을 주기적으로 읽음**

1. **새로운 메시지가 추가되면 연동 시스템이 다른 시스템으로 메시지를 전송**


**특징**

트랜잭션과 메시지 순서가 보장되며, 메시지 유실에 대한 걱정이 없는 것이 장점이지만 범용성이 떨어진다.

[gray]*메시지의 형식이 변경될 때 마다 메시지 레코드에 대한 스키마도 변경해주어야 하기 때문*[/]


### CDC 활용 방식

데이터베이스의 변경 사항을 조회하여, 이를 다른 시스템에 전파하는 방식으로 별도의 시스템이 변경 감지 대상 데이터베이스의 바이너리 로그를 조회하여 변경을 전파하도록 구현할 수 있다.


**특징**

트랜잭션이 보장되며, 메시지를 생성하거나 별도로 저장할 필요가 없으므로 상대적으로 애플리케이션 로직이 단순하다는 장점이 있으나, 변경 로그에 대한 추가적인 정보가 없기 때문에 사용하는데 제약이 존재할 수 있다.


> 💡 ****이벤트 버블링과 캡처링에 대해 설명해주세요.****

### 이벤트 버블링

이벤트가 발생했을 때 가장 안쪽의 타겟 요소에서 시작하여 부모 요소로 전파되는 방식

→ 버튼 클릭 시 버튼 자체에서(button)의 이벤트가 발생한 후 이벤트의 상위 요소(div, body …)로 전파되는 과정

[gray]*기본적으로 브라우저는 이벤트 전파를 버블링 단계에서 처리하도록 설계됨*[/]


**예시**

li 클릭 이벤트 처리 시, 부모 요소인 ul에 리스너를 하나만 등록하면 모든 li의 클릭 이벤트를 처리할 수 있다.


### 이벤트 캡처링

이벤트가 최상위 부모 요소에서부터 시작해 점점 타겟 요소로 내려오면서 전파되는 방식

→ window에서 이벤트가 시작되어 document, body, div를 거쳐 button으로 전파되는 과정

[gray]*이벤트 버블링의 반대로, 기본적으로 캡처링 단계는 비활성화되어 있으나 addEventListener 함수의 3번째 옵션으로 활성화 가능*[/]


**예시**

페이지의 전체적인 트래킹이나 로깅 기능을 구현할 때 캡처링 단계에서 이벤트를 처리하면 자식 요소에서의 추가 이벤트 처리 여부와 관계없이 부모에서 로직을 먼저 실행할 수 있다.


버블링은 이벤트 위임같은 패턴에서 활용도가 높고, 캡처링은 부모 요소에서 자식 요소보다 먼저 이벤트를 처리해야 할 때 유용하다.


이벤트 중첩으로 인해 동일 이벤트가 중복 처리되거나, 캡처링 단계에서 불필요하게 이벤트를 처리하는 성능 문제, 이벤트 위임 시 타겟 오작동 등 버블링과 캡처링 단계에서 문제가 발생할 수 있지만, stopPropagation, preventDefault 메서드들을 사용하여 문제를 제어할 수 있다.



### **TIL**

---


> 💡 **TIL 작성**

